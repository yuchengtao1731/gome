"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.Verify=void 0;var _toolmodule=require("./toolmodule.js");function Verify(){var e=(0,_toolmodule.$)("form"),o=(0,_toolmodule.$)("input","all"),l=(0,_toolmodule.$)("span","all"),r=(0,_toolmodule.$)("section","all"),t=(0,_toolmodule.$)("article"),n=0,s=0,c=0,i=0,u=0,a=0;o[0].onfocus=function(){"4到16位，字母、数字、下划线均可"==this.value&&(this.value="",this.style.color="black")},o[0].onblur=function(){""!=this.value?/^[a-zA-Z]\w{3,15}$/.test(this.value)?(l[0].innerHTML="√",l[0].style.color="green",n=!0,(0,_toolmodule.ajax)({type:"post",url:"http://10.31.161.151/erjieduan/gome/php/registry.php",data:{username:this.value}}).then(function(e){console.log(e),e&&(l[0].innerHTML="用户名已存在",l[0].style.color="red",n=!1)})):(l[0].innerHTML="用户名格式有误",l[0].style.color="red",n=!1):(this.value="4到16位，字母、数字、下划线均可",this.style.color="#ccc",l[0].innerHTML="用户名不能为空",l[0].style.color="red",n=!1)},o[1].onfocus=function(){"请输入邮箱"==this.value&&(this.value="",this.style.color="black")},o[1].onblur=function(){s=""!=this.value?/^(\w+[\+\-\_\.]*\w+)\@(\w+[\+\-\_\.]*\w+)\.(\w+[\+\-\_\.]*\w+)$/.test(this.value)?(l[1].innerHTML="√",l[1].style.color="green",!0):(l[1].innerHTML="邮箱格式有误",!(l[1].style.color="red")):(this.value="请输入邮箱",this.style.color="#ccc",l[1].innerHTML="邮箱不能为空",!(l[1].style.color="red"))},o[2].onfocus=function(){"6-16位大小写英文字母、数字或字符组成"==this.value&&(this.value="",this.style.color="black")},o[2].oninput=function(){if(6<=this.value.length&&this.value.length<=16){var e=0;switch(/\d+/.test(this.value)&&e++,/[a-z]+/.test(this.value)&&e++,/[A-Z]+/.test(this.value)&&e++,/[\W]+/.test(this.value)&&e++,e){case 1:r[2].style.background="green",r[0].style.background="#ccc",r[1].style.background="#ccc",l[2].innerHTML="√",l[2].style.color="green",c=!0;break;case 2:case 3:r[1].style.background="green",r[0].style.background="#ccc",r[2].style.background="#ccc",l[2].innerHTML="√",l[2].style.color="green",c=!0;break;case 4:r[0].style.background="green",r[1].style.background="#ccc",r[2].style.background="#ccc",l[2].innerHTML="√",l[2].style.color="green",c=!0}}else l[2].innerHTML="密码格式有误",l[2].style.color="red",c=!1},o[2].onblur=function(){""!==this.value?c&&(l[2].innerHTML="√",l[2].style.color="green",c=!0):(this.value="6-16位大小写英文字母、数字或字符组成",this.style.color="#ccc",l[2].innerHTML="密码不能为空",l[2].style.color="red",c=!1)},o[3].onfocus=function(){"请再次输入密码"==this.value&&(this.value="",this.style.color="black")},o[3].onblur=function(){i=this.value!=o[2].value?(this.value="请再次输入密码",this.style.color="#ccc",l[3].innerHTML="二次输入的密码不符",!(l[3].style.color="red")):(l[3].innerHTML="√",l[3].style.color="green",!0)},o[4].onfocus=function(){"请输入手机号码"==this.value&&(this.value="",this.style.color="black")},o[4].onblur=function(){u=""!=this.value?/^1[3578]\d{9}$/.test(this.value)?(l[4].innerHTML="√",l[4].style.color="green",!0):(l[4].innerHTML="手机号码格式有误",!(l[4].style.color="red")):(this.value="请输入手机号码",this.style.color="#ccc",l[4].innerHTML="手机号码不能为空",!(l[4].style.color="red"))},o[5].onfocus=function(){"请输入验证码"==this.value&&(this.value="",this.style.color="black")},o[5].onblur=function(){a=""!=this.value?this.value!=t.innerHTML?(l[5].innerHTML="验证码不符",!(l[5].style.color="red")):(l[5].innerHTML="√",l[5].style.color="green",!0):(this.value="请输入验证码",this.style.color="#ccc",l[5].innerHTML="验证码不能为空",!(l[5].style.color="red"))},t.innerHTML=function(){for(var e=[],o=48;o<=57;o++)e.push(String.fromCharCode(o));for(o=65;o<=90;o++)e.push(String.fromCharCode(o));var l="";for(o=0;o<5;o++){var r=parseInt(Math.random()*e.length);if(9<r){l+=.5<Math.random()?e[r].toLowerCase():e[r]}else l+=e[r]}return l}(),t.onclick=function(){for(var e=[],o=48;o<=57;o++)e.push(String.fromCharCode(o));for(o=65;o<=90;o++)e.push(String.fromCharCode(o));var l="";for(o=0;o<5;o++){var r=parseInt(Math.random()*e.length);if(9<r){l+=.5<Math.random()?e[r].toLowerCase():e[r]}else l+=e[r]}t.innerHTML=l},e.onsubmit=function(){if("4到16位，字母、数字、下划线均可"===o[0].value&&(l[0].innerHTML="用户名不能为空",l[0].style.color="red",n=!1),"请输入邮箱"===o[1].value&&(l[1].innerHTML="邮箱不能为空",l[1].style.color="red",s=!1),"6-16位大小写英文字母、数字或字符组成"===o[2].value&&(l[2].innerHTML="密码不能为空",l[2].style.color="red",c=!1),"请再次输入密码"===o[3].value&&(l[3].innerHTML="密码不能为空",l[3].style.color="red",i=!1),"请输入手机号码"===o[4].value&&(l[4].innerHTML="手机号码不能为空",l[4].style.color="red",u=!1),"请输入验证码"===o[5].value&&(l[5].innerHTML="验证码不能为空",l[5].style.color="red",a=!1),0==n||0==s||0==i||0==u||0==a||0==c)return!1}}exports.Verify=Verify;